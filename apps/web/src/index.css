@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Surface (Cool Greys) */
    --surface-canvas: 228 8% 92%;
    --surface-card: 0 0% 100%;
    --surface-subtle: 220 14% 97%;

    /* Ink (Cool Tones) */
    --ink-primary: 222 22% 7%;
    --ink-secondary: 220 8% 37%;
    --ink-tertiary: 210 6% 63%;
    --ink-on-accent: 0 0% 100%;

    /* Accent (Violet) */
    --color-accent-main: 250 41% 31%;
    --color-accent-hover: 250 35% 40%;
    --color-accent-subtle: 248 35% 94%;

    /* Functional Signals */
    --signal-error: 5 77% 41%;
    --signal-warning: 44 100% 45%;
    --signal-success: 160 100% 22%;

    /* Borders */
    --border-grid: 220 9% 79%;
    --border-element: 220 11% 89%;
    --border-accent: 250 41% 31%;

    /* Map to shadcn-compatible tokens */
    --background: var(--surface-canvas);
    --foreground: var(--ink-primary);
    --card: var(--surface-card);
    --card-foreground: var(--ink-primary);
    --popover: var(--surface-card);
    --popover-foreground: var(--ink-primary);
    --primary: var(--color-accent-main);
    --primary-foreground: var(--ink-on-accent);
    --secondary: var(--surface-subtle);
    --secondary-foreground: var(--ink-secondary);
    --muted: var(--surface-subtle);
    --muted-foreground: var(--ink-tertiary);
    --accent: var(--color-accent-subtle);
    --accent-foreground: var(--color-accent-main);
    --destructive: var(--signal-error);
    --destructive-foreground: var(--ink-on-accent);
    --border: var(--border-grid);
    --input: var(--border-element);
    --ring: var(--color-accent-main);
    --radius: 0px;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  /* Tabular figures for all numbers in data contexts */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}

@layer components {
  /* Grid cell */
  .grid-cell {
    @apply relative bg-card;
    border: 1px solid hsl(var(--border-grid));
  }

  /* Section label - uppercase micro text */
  .section-label {
    @apply text-[11px] font-medium uppercase tracking-[0.06em] text-ink-secondary;
  }

  /* Data value - monospace */
  .data-value {
    @apply font-mono text-[13px] tabular-nums;
  }

  /* Blueprint header */
  .blueprint-header {
    @apply flex items-center justify-between pb-4 border-b border-border-grid;
  }

  .blueprint-header h2 {
    @apply text-base font-normal tracking-[-0.5%] text-ink-primary;
  }
}

/* Custom scrollbar - minimal */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--surface-subtle));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border-grid));
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--ink-tertiary));
}

/* Positive/Negative colors for stock changes */
.text-positive {
  color: hsl(var(--signal-success));
}

.text-negative {
  color: hsl(var(--signal-error));
}

.bg-positive {
  background-color: hsl(160 100% 22% / 0.1);
}

.bg-negative {
  background-color: hsl(5 77% 41% / 0.1);
}

/* Selection color */
::selection {
  background-color: hsl(var(--color-accent-subtle));
  color: hsl(var(--color-accent-main));
}

/* Mobile-first responsive utilities */
@layer utilities {
  /* Hide on mobile, show on larger screens */
  .hide-mobile {
    @apply hidden sm:block;
  }
  
  /* Show on mobile, hide on larger screens */
  .show-mobile {
    @apply block sm:hidden;
  }
  
  /* Sticky column for tables */
  .sticky-col {
    position: sticky;
    left: 0;
    z-index: 10;
    background: inherit;
  }
  
  .sticky-col::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 1px;
    background: hsl(var(--border-grid));
  }
  
  /* Mobile table cell - compact */
  .cell-compact {
    @apply px-2 py-2 sm:px-4 sm:py-3;
  }
  
  /* Touch-friendly tap targets */
  .tap-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  /* Responsive container padding */
  .container-responsive {
    @apply px-4 sm:px-6;
  }
  
  /* Mobile card padding */
  .card-padding-responsive {
    @apply p-4 sm:p-6;
  }
  
  /* Text truncation for mobile */
  .truncate-mobile {
    @apply truncate sm:text-clip sm:whitespace-normal;
  }
}

/* Responsive typography */
@media (max-width: 639px) {
  .text-h1 {
    font-size: 1.125rem;
    line-height: 1.4;
  }
  
  .text-body {
    font-size: 0.875rem;
  }
  
  .text-data {
    font-size: 0.75rem;
  }
  
  .text-label {
    font-size: 0.625rem;
  }
}

/* Mobile table improvements */
@media (max-width: 639px) {
  table {
    font-size: 0.75rem;
  }
  
  th, td {
    white-space: nowrap;
  }
}

/* Smooth horizontal scrolling for tables */
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}

/* Mobile-friendly scrollbar */
@media (max-width: 639px) {
  ::-webkit-scrollbar {
    height: 4px;
  }
}
